@Library('Banzai@custom-stages') _
banzai([
  appName: 'test-downstream-build',
  preCleanWorkspace: true,
  flowdock: [
    /.*/: [
      credId: 'banzai-flowtoken',
      author: [
        name: 'Banzai',
        avatarUrl: 'https://github.build.ge.com/avatars/u/55576?s=400&u=700c7e70356d1f5a679908c1d7c7e5bf8e2beab6',
        email: 'banzai@ge.com'
      ]
    ]
  ],
  stages: [
    [ name: 'build' ],
    [
      name: 'My Arbitrary Stage',
      steps: [
        /.*/: [
          [
            closure: { logger "YO I RAN A CLOSURE FROM A CUSTOM STAGE!" }
          ], 
          [
            script: 'customStageScript.sh'
          ]
        ]
      ]
    ],
    [ name: 'scans:vulnerability' ],
    [ name: 'publish' ]
  ],
  build: [
    /.*/: [:]
  ],
  publish: [
    /.*/: [:]
  ],
  vulnerabilityScans: [
    /develop|master/: [
      [
        type: 'checkmarx',
        credId: 'ge-checkmarx',
        resultEmails: ['banzai@ge.com'],
        preset: '17',
        teamUUID: '53f766d4-5402-4980-8a15-2655ba6d18f0',
        abortOnError: false
      ]
    ]
  ]
])